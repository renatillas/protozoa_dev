syntax = "proto3";

package test.nested;

message OuterMessage {
  string outer_field = 1;
  
  message NestedMessage {
    string nested_field = 1;
    int32 nested_number = 2;
    
    message DeeplyNestedMessage {
      bool deeply_nested_flag = 1;
    }
    
    DeeplyNestedMessage deeply_nested = 3;
  }
  
  enum NestedEnum {
    UNKNOWN = 0;
    FIRST = 1;
    SECOND = 2;
  }
  
  NestedMessage nested = 2;
  NestedEnum status = 3;
}

// Test message referencing nested types
message MessageWithNested {
  OuterMessage.NestedMessage nested_ref = 1;
  OuterMessage.NestedEnum enum_ref = 2;
  OuterMessage.NestedMessage.DeeplyNestedMessage deep_ref = 3;
}